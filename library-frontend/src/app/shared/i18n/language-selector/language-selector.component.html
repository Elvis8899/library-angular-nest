<div
  (click)="$event.stopPropagation(); $event.preventDefault()"
  (keyup.enter)="$event.stopPropagation(); $event.preventDefault()"
  [class.nav-item]="inNavbar"
  [class.open]="isDropdownOpen"
  class="language-selector"
  tabindex="0"
>
  <div
    class="dropdown-toggle"
    (click)="
      $event.stopPropagation(); $event.preventDefault(); toggleDropdown()
    "
    (keyup)="
      $event.stopPropagation(); $event.preventDefault(); toggleDropdown()
    "
    tabindex="1"
  >
    Lang: {{ currentLanguage }}
  </div>
  @if (isDropdownOpen) {
    <div [ngClass]="{ above: openAbove }" class="selectable-list-popover">
      <ul class="selectable-list-popover__list">
        @for (language of languages; track language) {
          <li
            (click)="setLanguage(language)"
            (keyup)="setLanguage(language)"
            [class.selected]="getLanguageCode(language) === currentLanguage"
            class="selectable-list-popover__list__item"
            tabindex="2"
          >
            <div class="icon"></div>
            {{ language }}
          </li>
        } @empty {
          <li>There are no items.</li>
        }
      </ul>
    </div>
  }
</div>
